<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Shopping Cart | BLACKHYLE</title>
    <link rel="stylesheet" href="style.css" />
    <link rel="stylesheet" href="css/footer.css" />
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="icon" type="image/png" sizes="32x32" href="blackhyle.png" />
    <link
      href="https://fonts.googleapis.com/css2?family=Orbitron:wght@400;700;900&family=Rajdhani:wght@300;500;700&display=swap"
      rel="stylesheet"
    />
    <link
      href="https://cdn.jsdelivr.net/npm/remixicon@4.7.0/fonts/remixicon.css"
      rel="stylesheet"
    />
  </head>

  <body>
    <!-- Navigation -->
    <header class="header">
      <div class="container nav-container">
        <a href="index.html" style="text-decoration: none"
          ><div class="logo">BLACKHYLE</div>
        </a>
        <nav class="nav">
          <a href="index.html" style="color: #e50914; font-size: 1.2rem"
            >HOME</a
          >
          <a href="shopnow.html">SHOP NOW</a>
          <a href="about.html">ABOUT</a>
          <a href="newarrival.html" class="new-arrivals-btn">
            <span class="btn-text">NEW ARRIVALS</span>
          </a>
          <a href="cart.html" class="nav-cart-btn"
            ><i class="ri-shopping-bag-4-fill"></i
          ></a>
        </nav>
        <div class="hamburger">Menu</div>
      </div>
    </header>

    <!-- Cart Section -->
    <section class="cart-section">
      <div class="container">
        <h2 class="section-title" style="margin-bottom: 40px">YOUR CART</h2>

        <div class="cart-container">
          <!-- Cart Items -->
          <div class="cart-items">
            <table class="cart-table">
              <thead>
                <tr>
                  <th width="50%">PRODUCT</th>
                  <th>PRICE</th>
                  <th>QUANTITY</th>
                  <th>TOTAL</th>
                </tr>
              </thead>
              <tbody>
                <tr>
                  <td>
                    <div class="cart-item-info">
                      <img src="assets\shopping-cart.jpeg" alt="Mouse" />
                      <div>
                        <h4>REDRAGON M711 COBRA</h4>
                        <p>SKU: RD-M711-RGB</p>
                        <a href="#" class="remove-btn">REMOVE</a>
                      </div>
                    </div>
                  </td>
                  <td>$4,300</td>
                  <td>
                    <div class="cart-qty">
                      <input type="number" value="1" min="1" />
                    </div>
                  </td>
                  <td style="color: red; font-weight: bold">$4,300</td>
                </tr>
              </tbody>
            </table>
          </div>

          <!-- Summary -->
          <div class="cart-summary">
            <h3>ORDER SUMMARY</h3>
            <div class="summary-row">
              <span>Subtotal</span>
              <span id="summary-subtotal">$0</span>
            </div>
            <div class="summary-row">
              <span>Shipping</span>
              <span>Calculated at checkout</span>
            </div>
            <div class="summary-row total">
              <span>TOTAL</span>
              <span id="summary-total">$0</span>
            </div>
            <button class="btn-checkout">PROCEED TO CHECKOUT</button>
            <p
              style="
                margin-top: 15px;
                font-size: 12px;
                color: #666;
                text-align: center;
              "
            >
              Secure Checkout - SSL Encrypted
            </p>
          </div>
        </div>
      </div>
    </section>

    <!-- Footer -->
    <footer class="footer">
      <div class="container footer-grid">
        <div>
          <h4>RIG BUILDER</h4>
          <ul>
            <li>Custom PCs</li>
            <li>Prebuilt Rigs</li>
          </ul>
        </div>
        <div>
          <h4>GRAPHICS CARDS</h4>
          <ul>
            <li>NVIDIA</li>
            <li>AMD</li>
            <li>Limited Editions</li>
          </ul>
        </div>
        <div>
          <h4>PERIPHERALS</h4>
          <ul>
            <li>Keyboards</li>
            <li>Mice</li>
            <li>Headsets</li>
            <li>Monitors</li>
          </ul>
        </div>
        <div>
          <h4>ABOUT</h4>
          <ul>
            <li>Our Story</li>
            <li>Contact</li>
            <li>Careers</li>
          </ul>
        </div>
      </div>
      <div class="footer-bottom">
        <p>Â© 2025 Gaming Gear Elite. All rights reserved.</p>
      </div>
    </footer>

    <script>
      let cart = JSON.parse(localStorage.getItem("cart")) || [];
      const cartTableBody = document.querySelector(".cart-table tbody");
      const subtotalEl = document.getElementById("summary-subtotal");
      const totalEl = document.getElementById("summary-total");

      function formatPKR(value) {
        return `$${value.toLocaleString("en-PK")}`;
      }

      function calculateSubtotal() {
        return cart.reduce((sum, item) => sum + item.price * item.qty, 0);
      }

      function renderSummary() {
        const subtotal = calculateSubtotal();
        subtotalEl.textContent = formatPKR(subtotal);
        totalEl.textContent = formatPKR(subtotal);
      }

      function renderCart() {
        cartTableBody.innerHTML = "";

        if (cart.length === 0) {
          cartTableBody.innerHTML = `
        <tr>
          <td colspan="4" style="text-align:center; padding:20px;">
            Your cart is empty.
          </td>
        </tr>
      `;
          renderSummary();
          return;
        }

        cart.forEach((item) => {
          const row = document.createElement("tr");
          row.innerHTML = `
        <td>
          <div class="cart-item-info">
            <img src="${item.img}" alt="${item.name}" />
            <div>
              <h4>${item.name}</h4>
              <p>SKU: ${item.sku}</p>
              <a href="#" class="remove-btn" data-id="${item.id}">REMOVE</a>
            </div>
          </div>
        </td>
        <td>${formatPKR(item.price)}</td>
        <td>
          <div class="cart-qty">
            <input type="number" value="${item.qty}" min="1" data-id="${
            item.id
          }" />
          </div>
        </td>
        <td style="color: var(--accent); font-weight: bold">
          ${formatPKR(item.price * item.qty)}
        </td>
      `;
          cartTableBody.appendChild(row);
        });

        attachRowEvents();
        renderSummary();
      }

      function attachRowEvents() {
        document.querySelectorAll(".remove-btn").forEach((btn) => {
          btn.addEventListener("click", (e) => {
            e.preventDefault();
            const id = btn.dataset.id;
            cart = cart.filter((item) => item.id !== id);
            localStorage.setItem("cart", JSON.stringify(cart));
            renderCart();
          });
        });

        document.querySelectorAll(".cart-qty input").forEach((input) => {
          input.addEventListener("change", () => {
            const id = input.dataset.id;
            const item = cart.find((i) => i.id === id);
            const newQty = Math.max(1, parseInt(input.value, 10) || 1);
            item.qty = newQty;
            localStorage.setItem("cart", JSON.stringify(cart));
            renderCart();
          });
        });
      }

      renderCart();
    </script>
  </body>
</html>
